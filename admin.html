
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Xposed.World — Admin</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css">
<script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>

<style>
/* 1) STOP hiding every svg on Admin (remove any rule like: body.admin-page svg {display:none}) */

/* 2) Hide ONLY the site-wide helper/background SVGs on Admin */
body.admin-page .pwa-svg-helpers,
body.admin-page .bg-svg,
body.admin-page [data-pwa-art],
body.admin-page [data-homescreen-art],
body.admin-page svg#homescreenPreview,
body.admin-page .homescreen-icon,
body.admin-page .homescreen-icon svg {
  display: none !important;
}

/* 3) Restore Quill toolbar icons */
body.admin-page .ql-toolbar svg,
body.admin-page .ql-toolbar svg * {
  display: inline-block !important;
  width: 18px; height: 18px;
}

/* If you added a global "svg, svg * { fill: unset; stroke: unset; }"
   it can blank Quill’s strokes. Re-assert Snow theme’s paints: */
body.admin-page .ql-snow .ql-stroke { stroke: currentColor !important; fill: none !important; }
body.admin-page .ql-snow .ql-stroke-miter { stroke-miterlimit: 10 !important; }
body.admin-page .ql-snow .ql-fill { fill: currentColor !important; stroke: none !important; }
body.admin-page .ql-snow .ql-picker { color: inherit !important; }

/* Keep editor above any overlays */
body.admin-page #editor-toolbar { position: relative; z-index: 3; }
body.admin-page #editor         { position: relative; z-index: 2; min-height: 320px; }
</style>



  <!-- Supabase client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // 1) Paste your Supabase values before running:
    window.SUPABASE_URL = "https://nekhgihyjmgzkjjdlapp.supabase.co";   // <-- replace
    window.SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5la2hnaWh5am1nemtqamRsYXBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMjM2ODQsImV4cCI6MjA3MjU5OTY4NH0.8mWrXQTXRQK9Wt1_vPyNcmTsQ9HOzNDHfceLp3BD-ao";              // <-- replace
  </script>

</head>
<body class="admin-page" data-page="admin">
  <div id="site-header"></div>

  <main class="wrap" style="padding-block:18px 30px">
    <section class="card">
      <h2>New Article</h2>
      <form id="postForm" style="display:grid;grid-template-columns:1fr;gap:10px;max-width:820px">
        <label>Title</label>
        <input id="title" required placeholder="Headline" />
<label>Lead Image</label>
<div class="row" style="gap:10px">
  <input id="image" placeholder="https://… (optional if you upload a file)" style="flex:2" />
  <input id="imageFile" type="file" accept="image/*" style="flex:1" />
</div>
<p class="mut">Paste an image URL or upload a file — if both are provided, the upload wins.</p>


        <div class="row" style="gap:10px">
          <div style="flex:1">
            <label>Topic</label>
            <select id="topic">
              <option>Crypto</option>
              <option>US Politics</option>
              <option>World</option>
              <option>Regulation</option>
              <option>Opinion</option>
            </select>
          </div>
          <div style="flex:2">
            <label>Tags (space or comma separated, include # if you like)</label>
            <input id="tags" placeholder="#bitcoin #eth policy" />
          </div>
        </div>
       <label>Article</label>

<!-- Quill toolbar + editor -->
<div id="quill-toolbar"></div>
<div id="quill-editor" style="min-height:260px;"></div>

<!-- Hidden field your save code will read -->
<input type="hidden" id="content" name="content" />

          <button class="primary" type="submit">Publish</button>
          <a href="index.html" class="ml-auto">Back to Home</a>
        </div>
      </form>
    </section>

    <section class="card" style="margin-top:18px">
      <h2>All Posts</h2>
      <table class="table" id="postList"></table>
    </section>
  </main>

  <div id="site-footer"></div>
  <script src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>

<script>
(function(){
  if (!document.body.classList.contains('admin-page')) return;

  // Aggressively remove anything that might have been injected globally
  const killers = [
    '.pwa-svg-helpers',
    '.bg-svg',
    'svg[aria-hidden="true"]',
    '[data-global-overlay]',
    '[data-pwa-art]',
    '[data-homescreen-art]'
  ];
  killers.forEach(sel => document.querySelectorAll(sel).forEach(n => n.remove()));

  // If any full-viewport <svg> slipped through, remove it
  document.querySelectorAll('svg').forEach(svg => {
    const r = svg.getBoundingClientRect();
    if (r.width > innerWidth * 0.7 && r.height > innerHeight * 0.7) svg.remove();
  });
})();
</script>
<script>
(function () {
  if (!document.body.classList.contains('admin-page')) return;
  if (window.__quillInstance) return;

  const toolbar = document.getElementById('quill-toolbar');
  const editor  = document.getElementById('quill-editor');

  if (!window.Quill || !toolbar || !editor) return;

  window.__quillInstance = new Quill('#quill-editor', {
    theme: 'snow',
    modules: { toolbar: '#quill-toolbar' },
    placeholder: 'Write your article here...'
  });
})();
</script>


</body>
</html>
